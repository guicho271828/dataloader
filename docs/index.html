<html><head><link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Comfortaa|Raleway|Ubuntu' /><link rel='stylesheet' type='text/css' href='default.css' /><script type='text/javascript' src='default.js'></script><title>dataloader</title></head><body><div class="page-header"><div class="title"><h1>dataloader</h1></div><div class="table-of-contents"><h1>Index</h1><ol><li><a href="#" data-node=""><span class="directory"></span></a><ol><li><a href="#README.md" data-node="README.md"><span class="file">README</span><span class="extension">md</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/readme.md">[source]</a></a></li></ol></li><li><a href="#src" data-node="src"><span class="directory">src</span></a><ol><li><a href="#src/0package.lisp" data-node="src/0package.lisp"><span class="file">0package</span><span class="extension">lisp</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/src/0package.lisp">[source]</a></a></li><li><a href="#src/1generic.lisp" data-node="src/1generic.lisp"><span class="file">1generic</span><span class="extension">lisp</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/src/1generic.lisp">[source]</a></a></li><li><a href="#src/2load.lisp" data-node="src/2load.lisp"><span class="file">2load</span><span class="extension">lisp</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/src/2load.lisp">[source]</a></a></li><li><a href="#src/2save.lisp" data-node="src/2save.lisp"><span class="file">2save</span><span class="extension">lisp</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/src/2save.lisp">[source]</a></a></li><li><a href="#src/3api.lisp" data-node="src/3api.lisp"><span class="file">3api</span><span class="extension">lisp</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/src/3api.lisp">[source]</a></a></li></ol></li></ol></div></div><div class="main"><h1 id=""><span class="directory"></span></h1><h2 id="README.md"><span class="file">README</span><span class="extension">md</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/readme.md">[source]</a></h2><div class="doc-entry"><div class="entry"><div class="static-file"><div class="docstring"><h1 id="dataloader---a-universal-loader-library-for-various-data-formats-for-imagesaudio">Dataloader - A universal loader library for various data formats for images/audio</h1>
<p>This is what you might have needed for a long time. It loads a file in an arbitrary data format into a <a href="https://github.com/numcl/numcl/blob/master/doc/DETAILS.org#representation">numcl-compatible array</a>. File types are automatically detected by the mime type information obtained by <code>libmagic</code>.</p>
<p>Supported files are currently <code>png</code>, <code>jpg</code>, <code>tiff</code>, <code>csv</code>, <code>tsv</code>, <code>wav</code>. We plan to include support for <code>bmp</code>, <code>gif</code>, <code>npy</code>, <code>npz</code>. This library relies on existing libraries to load the files, such as <code>cl-png</code>, <code>retrospectiff</code>, <code>cl-csv</code>, but provides a consistent and natural array-based interface.</p>
<p>An image file are loaded into a NUMCL-compatible array with corresponding widht, height and channels.</p>
<p>A sound files is loaded into a 1D array (monoral), or a 2D array with 2 channels (stereo). It provides a wrapper over <code>cl-wav</code> and correctly returns a <code>(unsigned-byte 16)</code> arrays for a 16-bit PCM file, which is not performed by <code>cl-wav</code>. The save method also automatically generates RIFF headers, which is not performed by <code>cl-wav</code>.</p>
<h2 id="load">Load</h2>
<pre class="common-lisp"><code>DATALOADER:LOAD
  [symbol]

LOAD names a compiled function:
  Lambda-list: (FILE &amp;REST ARGS &amp;KEY
                (MIME (MAGICFFI:PATHNAME-MIME-TYPE FILE))
                
                ;; jpeg options
                (DECODE-FRAME T) CACHED-SOURCE-P (COLORSPACE-CONVERSION T) BUFFER
                
                ;; csv options
                ESCAPE-MODE NEWLINE
                TRIM-OUTER-WHITESPACE QUOTED-EMPTY-STRING-IS-NIL
                UNQUOTED-EMPTY-STRING-IS-NIL
                (ESCAPE CL-CSV:*QUOTE-ESCAPE*) &#39;CL-CSV:*QUOTE*
                (SEPARATOR CL-CSV:*SEPARATOR*) SKIP-FIRST-P SAMPLE
                DATA-MAP-FN MAP-FN ROW-FN CSV-READER TYPE)</code></pre>
<p>This function loads a file and returns a numcl-compatible array. The file format can be specified manually in the <code>mime</code> string, but by default detected by libmagic.</p>
<h2 id="save">Save</h2>
<pre class="common-lisp"><code>DATALOADER:SAVE
  [symbol]

SAVE names a compiled function:
  Lambda-list: (ARRAY FILE &amp;REST ARGS &amp;KEY (MIME (PATHNAME-TYPE FILE))
  
                ;; wav options
                (BITS-PER-SECOND 44100))</code></pre>
<p>This function saves the array into a file, using the file name extension or the additional <code>mime</code> argument.</p>
<h2 id="installation">Installation</h2>
<p>Available from quicklisp.</p>
<h2 id="dependencies">Dependencies</h2>
<p>This library is at least tested on implementation listed below:</p>
<ul>
<li>SBCL 1.4.12 on X86-64 Linux 4.4.0-141-generic (author’s environment)</li>
</ul>
<p>Also, it depends on the following libraries:</p>
<ul>
<li><p>cl-wav :</p></li>
<li><p>cl-png :</p></li>
<li><p>cl-jpeg :</p></li>
<li><p>retrospectiff :</p></li>
<li><p>iterate by ** : Jonathan Amsterdam’s iterator/gatherer/accumulator facility</p></li>
<li><p>alexandria by <em>Nikodemus Siivola <a href="mailto:nikodemus@sb-studio.net" class="email">nikodemus@sb-studio.net</a>, and others.</em> : Alexandria is a collection of portable public domain utilities.</p></li>
<li><p>trivia by <em>Masataro Asai</em> : NON-optimized pattern matcher compatible with OPTIMA, with extensible optimizer interface and clean codebase</p></li>
</ul>
<h2 id="author">Author</h2>
<ul>
<li>Masataro Asai (guicho2.71828@gmail.com)</li>
</ul>
<h2 id="copyright">Copyright</h2>
<p>Copyright (c) 2019 Masataro Asai (guicho2.71828@gmail.com)</p>
<h1 id="license">License</h1>
<p>Licensed under the LLGPL License.</p>
</div></div></div></div><h1 id="src"><span class="directory">src</span></h1><h2 id="src/0package.lisp"><span class="file">0package</span><span class="extension">lisp</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/src/0package.lisp">[source]</a></h2><div class="doc-entry"><div class="entry"><h3 id="define-package-dataloader.mime"><div class="pkg-KEYWORD EXTERNAL"><div class="span"><span class="doctype">define-package</span></div><div class="span"><span class="name" id="KEYWORD:DATALOADER.MIME">dataloader.mime</span></div></div></h3><div class="docstring"><p>A package containing symbols that are supported by dataloader. Each symbol has a name read from a mime type string, e.g., "image/png" -&gt; <code>IMAGE/PNG</code> . The symbols are used as an <code>eql</code> specializer for a generic function <code>dataloader:perform-load</code> and <code>dataloader:perform-save</code>.</p>
</div></div></div><div class="doc-entry"><div class="entry"><h3 id="define-package-dataloader"><div class="pkg-KEYWORD EXTERNAL"><div class="span"><span class="doctype">define-package</span></div><div class="span"><span class="name" id="KEYWORD:DATALOADER">dataloader</span></div></div></h3><div class="docstring"><p>The main package for dataloader.</p>
</div></div></div><h2 id="src/1generic.lisp"><span class="file">1generic</span><span class="extension">lisp</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/src/1generic.lisp">[source]</a></h2><div class="doc-entry"><div class="entry"><h3 id="defgeneric-perform-load-file-mime-&rest-args-&key-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defgeneric</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file mime &amp;rest args &amp;key &amp;allow-other-keys</span></div></h3><div class="docstring"><p>A generic function that is defined for each mime type symbol in <code>DATALOADER.MIME</code> package.</p>
</div></div></div><div class="doc-entry"><div class="entry"><h3 id="defmethod-perform-load-(file-string)-mime-&rest-args-&key-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">(file string) mime &amp;rest args &amp;key &amp;allow-other-keys</span></div></h3><div class="docstring"><p>Convert a namestring into a pathanme</p>
</div></div></div><div class="doc-entry"><div class="entry"><h3 id="defmethod-perform-load-file-(mime-string)-&rest-args-&key-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime string) &amp;rest args &amp;key &amp;allow-other-keys</span></div></h3><div class="docstring"><p>Convert a mime string into a symbol</p>
</div></div></div><div class="doc-entry"><div class="entry"><h3 id="defmacro-define-load-method-(filevar-mime-string-or-strings-&rest-lambda-list)-&body-body"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmacro</span></div><div class="span"><span class="name" id="DATALOADER:DEFINE-LOAD-METHOD">define-load-method</span></div><span class="args lisp">(filevar mime-string-or-strings &amp;rest lambda-list) &amp;body body</span></div></h3><div class="docstring"><p>A wrapper over <code>defmethod</code>. Made primarily because defmethod does not support <code>(or (eql ...))</code> or <code>member</code> as a specializer. <code>mime-string-or-strings</code> is a string or a list of strings, where each string specifies a mime type e.g. "image/png". <code>lambda-list</code> contains a keyword argument portion of the congruent lambda list of <code>defgeneric</code>. In order to have a compatible lambda-list with the generic function, it adds <code>&amp;rest</code> argument if not present, and <code>&amp;allow-other-keys</code> when <code>&amp;key</code> is present and <code>&amp;allow-other-keys</code> is missing.</p>
</div></div></div><div class="doc-entry"><div class="entry"><h3 id="defgeneric-perform-save-array-file-mime-&rest-args-&key-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defgeneric</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">array file mime &amp;rest args &amp;key &amp;allow-other-keys</span></div></h3><div class="docstring"><p>A generic function that is defined for each mime type symbol in <code>DATALOADER.MIME</code> package.</p>
</div></div></div><div class="doc-entry"><div class="entry"><h3 id="defmethod-perform-save-array-(file-string)-mime-&rest-args-&key-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">array (file string) mime &amp;rest args &amp;key &amp;allow-other-keys</span></div></h3><div class="docstring"><p>Convert a namestring into a pathanme</p>
</div></div></div><div class="doc-entry"><div class="entry"><h3 id="defmethod-perform-save-array-file-(mime-string)-&rest-args-&key-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">array file (mime string) &amp;rest args &amp;key &amp;allow-other-keys</span></div></h3><div class="docstring"><p>Convert a mime string into a symbol</p>
</div></div></div><div class="doc-entry"><div class="entry"><h3 id="defmacro-define-save-method-(arrayvar-filevar-mime-string-or-strings-&rest-lambda-list)-&body-body"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmacro</span></div><div class="span"><span class="name" id="DATALOADER:DEFINE-SAVE-METHOD">define-save-method</span></div><span class="args lisp">(arrayvar filevar mime-string-or-strings &amp;rest lambda-list) &amp;body body</span></div></h3><div class="docstring"><p>A wrapper over <code>defmethod</code>. Made primarily because defmethod does not support <code>(or (eql ...))</code> or <code>member</code> as a specializer. <code>mime-string-or-strings</code> is a string or a list of strings, where each string specifies a mime type e.g. "image/png". <code>lambda-list</code> contains a keyword argument portion of the congruent lambda list of <code>defgeneric</code>. In order to have a compatible lambda-list with the generic function, it adds <code>&amp;rest</code> argument if not present, and <code>&amp;allow-other-keys</code> when <code>&amp;key</code> is present and <code>&amp;allow-other-keys</code> is missing.</p>
</div></div></div><h2 id="src/2load.lisp"><span class="file">2load</span><span class="extension">lisp</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/src/2load.lisp">[source]</a></h2><div class="doc-entry"><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'image-png))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'image/png)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'image-jpeg))-&rest-args-&key-buffer-(colorspace-conversion-t)-cached-source-p-(decode-frame-t)-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'image/jpeg)) &amp;rest args &amp;key buffer (colorspace-conversion t) cached-source-p (decode-frame t) &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'image-tiff))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'image/tiff)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'application-csv))-&rest-args-&key-type-csv-reader-row-fn-map-fn-data-map-fn-sample-skip-first-p-(separator-*separator*)-'*quote*-(escape-*quote-escape*)-unquoted-empty-string-is-nil-quoted-empty-string-is-nil-trim-outer-whitespace-newline-escape-mode-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'application/csv)) &amp;rest args &amp;key type csv-reader row-fn map-fn data-map-fn sample skip-first-p (separator *separator*) '*quote* (escape *quote-escape*) unquoted-empty-string-is-nil quoted-empty-string-is-nil trim-outer-whitespace newline escape-mode &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'application-x-csv))-&rest-args-&key-type-csv-reader-row-fn-map-fn-data-map-fn-sample-skip-first-p-(separator-*separator*)-'*quote*-(escape-*quote-escape*)-unquoted-empty-string-is-nil-quoted-empty-string-is-nil-trim-outer-whitespace-newline-escape-mode-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'application/x-csv)) &amp;rest args &amp;key type csv-reader row-fn map-fn data-map-fn sample skip-first-p (separator *separator*) '*quote* (escape *quote-escape*) unquoted-empty-string-is-nil quoted-empty-string-is-nil trim-outer-whitespace newline escape-mode &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'application-vnd.ms-excel))-&rest-args-&key-type-csv-reader-row-fn-map-fn-data-map-fn-sample-skip-first-p-(separator-*separator*)-'*quote*-(escape-*quote-escape*)-unquoted-empty-string-is-nil-quoted-empty-string-is-nil-trim-outer-whitespace-newline-escape-mode-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'application/vnd.ms-excel)) &amp;rest args &amp;key type csv-reader row-fn map-fn data-map-fn sample skip-first-p (separator *separator*) '*quote* (escape *quote-escape*) unquoted-empty-string-is-nil quoted-empty-string-is-nil trim-outer-whitespace newline escape-mode &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'text-csv))-&rest-args-&key-type-csv-reader-row-fn-map-fn-data-map-fn-sample-skip-first-p-(separator-*separator*)-'*quote*-(escape-*quote-escape*)-unquoted-empty-string-is-nil-quoted-empty-string-is-nil-trim-outer-whitespace-newline-escape-mode-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'text/csv)) &amp;rest args &amp;key type csv-reader row-fn map-fn data-map-fn sample skip-first-p (separator *separator*) '*quote* (escape *quote-escape*) unquoted-empty-string-is-nil quoted-empty-string-is-nil trim-outer-whitespace newline escape-mode &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'text-comma-separated-values))-&rest-args-&key-type-csv-reader-row-fn-map-fn-data-map-fn-sample-skip-first-p-(separator-*separator*)-'*quote*-(escape-*quote-escape*)-unquoted-empty-string-is-nil-quoted-empty-string-is-nil-trim-outer-whitespace-newline-escape-mode-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'text/comma-separated-values)) &amp;rest args &amp;key type csv-reader row-fn map-fn data-map-fn sample skip-first-p (separator *separator*) '*quote* (escape *quote-escape*) unquoted-empty-string-is-nil quoted-empty-string-is-nil trim-outer-whitespace newline escape-mode &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'text-x-csv))-&rest-args-&key-type-csv-reader-row-fn-map-fn-data-map-fn-sample-skip-first-p-(separator-*separator*)-'*quote*-(escape-*quote-escape*)-unquoted-empty-string-is-nil-quoted-empty-string-is-nil-trim-outer-whitespace-newline-escape-mode-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'text/x-csv)) &amp;rest args &amp;key type csv-reader row-fn map-fn data-map-fn sample skip-first-p (separator *separator*) '*quote* (escape *quote-escape*) unquoted-empty-string-is-nil quoted-empty-string-is-nil trim-outer-whitespace newline escape-mode &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'text-x-comma-separated-values))-&rest-args-&key-type-csv-reader-row-fn-map-fn-data-map-fn-sample-skip-first-p-(separator-*separator*)-'*quote*-(escape-*quote-escape*)-unquoted-empty-string-is-nil-quoted-empty-string-is-nil-trim-outer-whitespace-newline-escape-mode-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'text/x-comma-separated-values)) &amp;rest args &amp;key type csv-reader row-fn map-fn data-map-fn sample skip-first-p (separator *separator*) '*quote* (escape *quote-escape*) unquoted-empty-string-is-nil quoted-empty-string-is-nil trim-outer-whitespace newline escape-mode &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'text-tab-separated-values))-&rest-args-&key-type-csv-reader-row-fn-map-fn-data-map-fn-sample-skip-first-p-(separator-*separator*)-'*quote*-(escape-*quote-escape*)-unquoted-empty-string-is-nil-quoted-empty-string-is-nil-trim-outer-whitespace-newline-escape-mode-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'text/tab-separated-values)) &amp;rest args &amp;key type csv-reader row-fn map-fn data-map-fn sample skip-first-p (separator *separator*) '*quote* (escape *quote-escape*) unquoted-empty-string-is-nil quoted-empty-string-is-nil trim-outer-whitespace newline escape-mode &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'text-plain))-&rest-args-&key-type-csv-reader-row-fn-map-fn-data-map-fn-sample-skip-first-p-(separator-*separator*)-'*quote*-(escape-*quote-escape*)-unquoted-empty-string-is-nil-quoted-empty-string-is-nil-trim-outer-whitespace-newline-escape-mode-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'text/plain)) &amp;rest args &amp;key type csv-reader row-fn map-fn data-map-fn sample skip-first-p (separator *separator*) '*quote* (escape *quote-escape*) unquoted-empty-string-is-nil quoted-empty-string-is-nil trim-outer-whitespace newline escape-mode &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'audio-wav))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'audio/wav)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'audio-x-wav))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'audio/x-wav)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'audio-wave))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'audio/wave)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'audio-x-wave))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'audio/x-wave)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'audio-vnd.wave))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'audio/vnd.wave)) &amp;rest args0</span></div></h3><div class="docstring missing">(all documentation missing)</div></div></div><h2 id="src/2save.lisp"><span class="file">2save</span><span class="extension">lisp</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/src/2save.lisp">[source]</a></h2><div class="doc-entry"><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'png))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'png)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'image-png))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'image/png)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'jpg))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'jpg)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'jpeg))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'jpeg)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'image-jpeg))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'image/jpeg)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'tiff))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'tiff)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'image-tiff))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'image/tiff)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'csv))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'csv)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'application-csv))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'application/csv)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'application-x-csv))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'application/x-csv)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'text-csv))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'text/csv)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'text-comma-separated-values))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'text/comma-separated-values)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'text-x-csv))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'text/x-csv)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'text-x-comma-separated-values))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'text/x-comma-separated-values)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'tsv))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'tsv)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'text-tab-separated-values))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'text/tab-separated-values)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'wav))-&rest-args0-&key-(bits-per-second-44100)-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'wav)) &amp;rest args0 &amp;key (bits-per-second 44100) &amp;allow-other-keys</span></div></h3><div class="docstring missing">(all documentation missing)</div></div></div><h2 id="src/3api.lisp"><span class="file">3api</span><span class="extension">lisp</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/src/3api.lisp">[source]</a></h2><div class="doc-entry"><div class="entry"><h3 id="defun-load-file-&rest-args-&key-(mime-(pathname-mime-type-file))-(decode-frame-t)-cached-source-p-(colorspace-conversion-t)-buffer-escape-mode-newline-trim-outer-whitespace-quoted-empty-string-is-nil-unquoted-empty-string-is-nil-(escape-*quote-escape*)-'*quote*-(separator-*separator*)-skip-first-p-sample-data-map-fn-map-fn-row-fn-csv-reader-type"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defun</span></div><div class="span"><span class="name" id="DATALOADER:LOAD">load</span></div><span class="args lisp">file &amp;rest args &amp;key (mime (pathname-mime-type file)) (decode-frame t) cached-source-p (colorspace-conversion t) buffer escape-mode newline trim-outer-whitespace quoted-empty-string-is-nil unquoted-empty-string-is-nil (escape *quote-escape*) '*quote* (separator *separator*) skip-first-p sample data-map-fn map-fn row-fn csv-reader type</span></div></h3><div class="docstring"><p>Loads a file and returns a numcl-compatible array. The file format is detected by libmagic, but it can optionally be specified.</p>
</div></div></div><div class="doc-entry"><div class="entry"><h3 id="defun-save-array-file-&rest-args-&key-(mime-(pathname-type-file))-(bits-per-second-44100)"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defun</span></div><div class="span"><span class="name" id="DATALOADER:SAVE">save</span></div><span class="args lisp">array file &amp;rest args &amp;key (mime (pathname-type file)) (bits-per-second 44100)</span></div></h3><div class="docstring"><p>This function saves the array into a file, using the format specified by the file name extension or by the mime type.</p>
</div></div></div></div><div class="footer"></div></body></html>