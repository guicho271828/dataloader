<html><head><link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Comfortaa|Raleway|Ubuntu' /><link rel='stylesheet' type='text/css' href='default.css' /><script type='text/javascript' src='default.js'></script><title>dataloader</title></head><body><div class="page-header"><div class="title"><h1>dataloader</h1></div><div class="table-of-contents"><h1>Index</h1><ol><li><a href="#" data-node=""><span class="directory"></span></a><ol><li><a href="#README.md" data-node="README.md"><span class="file">README</span><span class="extension">md</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/readme.md">[source]</a></a></li></ol></li><li><a href="#magic/file" data-node="magic/file"><span class="directory">magic/file</span></a><ol><li><a href="#magic/file/README" data-node="magic/file/README"><span class="file">README</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/magic/file/readme">[source]</a></a></li><li><a href="#magic/file/README.DEVELOPER" data-node="magic/file/README.DEVELOPER"><span class="file">README</span><span class="extension">DEVELOPER</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/magic/file/readme.developer">[source]</a></a></li></ol></li><li><a href="#magic/file/python" data-node="magic/file/python"><span class="directory">magic/file/python</span></a><ol><li><a href="#magic/file/python/README.md" data-node="magic/file/python/README.md"><span class="file">README</span><span class="extension">md</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/magic/file/python/readme.md">[source]</a></a></li></ol></li><li><a href="#magic/file/tests" data-node="magic/file/tests"><span class="directory">magic/file/tests</span></a><ol><li><a href="#magic/file/tests/README" data-node="magic/file/tests/README"><span class="file">README</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/magic/file/tests/readme">[source]</a></a></li></ol></li><li><a href="#src" data-node="src"><span class="directory">src</span></a><ol><li><a href="#src/0package.lisp" data-node="src/0package.lisp"><span class="file">0package</span><span class="extension">lisp</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/src/0package.lisp">[source]</a></a></li><li><a href="#src/1generic.lisp" data-node="src/1generic.lisp"><span class="file">1generic</span><span class="extension">lisp</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/src/1generic.lisp">[source]</a></a></li><li><a href="#src/2load.lisp" data-node="src/2load.lisp"><span class="file">2load</span><span class="extension">lisp</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/src/2load.lisp">[source]</a></a></li><li><a href="#src/2save.lisp" data-node="src/2save.lisp"><span class="file">2save</span><span class="extension">lisp</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/src/2save.lisp">[source]</a></a></li><li><a href="#src/3api.lisp" data-node="src/3api.lisp"><span class="file">3api</span><span class="extension">lisp</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/src/3api.lisp">[source]</a></a></li></ol></li></ol></div></div><div class="main"><h1 id=""><span class="directory"></span></h1><h2 id="README.md"><span class="file">README</span><span class="extension">md</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/readme.md">[source]</a></h2><div class="doc-entry"><div class="entry"><div class="static-file"><div class="docstring"><h1 id="dataloader---a-universal-loader-library-for-various-data-formats-for-imagesaudio-img">Dataloader - A universal loader library for various data formats for images/audio <a href="https://travis-ci.org/guicho271828/dataloader"><img src="https://travis-ci.org/guicho271828/dataloader.svg" alt="img" /></a></h1>
<p>This is what you might have needed for a long time. It loads a file in an arbitrary data format into a <a href="https://github.com/numcl/numcl/blob/master/doc/DETAILS.org#representation">numcl-compatible array</a>. File types are automatically detected by the mime type information obtained by <code>libmagic</code>.</p>
<p>Supported files are currently <code>png</code>, <code>jpg</code>, <code>tiff</code>, <code>csv</code>, <code>tsv</code>, <code>wav</code>, <code>npy</code>. We plan to include support for <code>bmp</code>, <code>gif</code>, <code>npz</code>. This library relies on existing libraries to load the files, such as <code>cl-png</code>, <code>retrospectiff</code>, <code>cl-csv</code>, but provides a consistent and natural array-based interface.</p>
<p>An image file is loaded into a NUMCL-compatible array with corresponding width, height and channels.</p>
<p>A sound file is loaded into a 1D array (monoral), or a 2D array with 2 channels (stereo). It provides a wrapper over <code>cl-wav</code> and correctly returns a <code>(unsigned-byte 16)</code> arrays for a 16-bit PCM file, which is not performed by <code>cl-wav</code>. The save method also automatically generates RIFF headers, which is not performed by <code>cl-wav</code>.</p>
<p>A numpy file is loaded with the corresponding width and height using <code>numpy-file-format</code> library.</p>
<h2 id="load">Load</h2>
<pre class="common-lisp"><code>DATALOADER:LOAD
  [symbol]

LOAD names a compiled function:
  Lambda-list: (FILE &amp;REST ARGS &amp;KEY
                (MIME (MAGICFFI:PATHNAME-MIME-TYPE FILE))
                
                ;; jpeg options
                (DECODE-FRAME T) CACHED-SOURCE-P (COLORSPACE-CONVERSION T) BUFFER
                
                ;; csv options
                ESCAPE-MODE NEWLINE
                TRIM-OUTER-WHITESPACE QUOTED-EMPTY-STRING-IS-NIL
                UNQUOTED-EMPTY-STRING-IS-NIL
                (ESCAPE CL-CSV:*QUOTE-ESCAPE*) &#39;CL-CSV:*QUOTE*
                (SEPARATOR CL-CSV:*SEPARATOR*) SKIP-FIRST-P SAMPLE
                DATA-MAP-FN MAP-FN ROW-FN CSV-READER TYPE)</code></pre>
<p>This function loads a file and returns a numcl-compatible array. The file format can be specified manually in the <code>mime</code> string, but by default detected by libmagic.</p>
<h2 id="save">Save</h2>
<pre class="common-lisp"><code>DATALOADER:SAVE
  [symbol]

SAVE names a compiled function:
  Lambda-list: (ARRAY FILE &amp;REST ARGS &amp;KEY (MIME (PATHNAME-TYPE FILE))
  
                ;; wav options
                (BITS-PER-SECOND 44100))</code></pre>
<p>This function saves the array into a file, using the file name extension or the additional <code>mime</code> argument.</p>
<h2 id="installation">Installation</h2>
<p>Available from quicklisp.</p>
<h2 id="dependencies">Dependencies</h2>
<p>This library is at least tested on implementation listed below:</p>
<ul>
<li>SBCL 1.4.12 on X86-64 Linux 4.4.0-141-generic (author’s environment)</li>
</ul>
<p>Also, it depends on the following libraries:</p>
<ul>
<li><p>cl-wav :</p></li>
<li><p>cl-png :</p></li>
<li><p>cl-jpeg :</p></li>
<li><p>retrospectiff :</p></li>
<li><p>iterate by ** : Jonathan Amsterdam’s iterator/gatherer/accumulator facility</p></li>
<li><p>alexandria by <em>Nikodemus Siivola <a href="mailto:nikodemus@sb-studio.net" class="email">nikodemus@sb-studio.net</a>, and others.</em> : Alexandria is a collection of portable public domain utilities.</p></li>
<li><p>trivia by <em>Masataro Asai</em> : NON-optimized pattern matcher compatible with OPTIMA, with extensible optimizer interface and clean codebase</p></li>
</ul>
<h2 id="author">Author</h2>
<ul>
<li>Masataro Asai (guicho2.71828@gmail.com)</li>
</ul>
<h2 id="copyright">Copyright</h2>
<p>Copyright (c) 2019 Masataro Asai (guicho2.71828@gmail.com)</p>
<h1 id="license">License</h1>
<p>Licensed under the LLGPL License.</p>
</div></div></div></div><h1 id="magic/file"><span class="directory">magic/file</span></h1><h2 id="magic/file/README"><span class="file">README</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/magic/file/readme">[source]</a></h2><div class="doc-entry"><div class="entry"><div class="static-file"><div class="docstring"><h2 id="readme-for-file1-command-and-the-libmagic3-library">README for file(1) Command and the libmagic(3) library</h2>
<pre><code>@(#) $File: README,v 1.61 2020/10/08 23:20:14 christos Exp $</code></pre>
<p>Mailing List: file@astron.com Mailing List archives: https://mailman.astron.com/pipermail/file/ Bug tracker: https://bugs.astron.com/ E-mail: christos@astron.com Build Status: https://travis-ci.org/file/file</p>
<p>Phone: Do not even think of telephoning me about this program. Send cash first!</p>
<p>This is Release 5.x of Ian Darwin’s (copyright but distributable) file(1) command, an implementation of the Unix File(1) command. It knows the ‘magic number’ of several thousands of file types. This version is the standard “file” command for Linux, *BSD, and other systems. (See “patchlevel.h” for the exact release number).</p>
<p>You can download the latest version of the original sources for file from:</p>
<pre><code>ftp://ftp.astron.com/pub/file/</code></pre>
<p>A public read-only git repository of the same sources is available at:</p>
<pre><code>https://github.com/file/file</code></pre>
<p>We are continuously being fuzzed by OSS-FUZZ:</p>
<pre><code>https://bugs.chromium.org/p/oss-fuzz/issues/list?sort=-opened&amp;can=1&amp;q=proj:file</code></pre>
<p>The major changes for 5.x are CDF file parsing, indirect magic, name/use (recursion) and overhaul in mime and ascii encoding handling.</p>
<p>The major feature of 4.x is the refactoring of the code into a library, and the re-write of the file command in terms of that library. The library itself, libmagic can be used by 3rd party programs that wish to identify file types without having to fork() and exec() file. The prime contributor for 4.0 was Mans Rullgard.</p>
<p>UNIX is a trademark of UNIX System Laboratories.</p>
<p>The prime contributor to Release 3.8 was Guy Harris, who put in megachanges including byte-order independence.</p>
<p>The prime contributor to Release 3.0 was Christos Zoulas, who put in hundreds of lines of source code changes, including his own ANSIfication of the code (I liked my own ANSIfication better, but his (__P()) is the “Berkeley standard” way of doing it, and I wanted UCB to include the code…), his HP-like “indirection” (a feature of the HP file command, I think), and his mods that finally got the uncompress (-z) mode finished and working.</p>
<p>This release has compiled in numerous environments; see PORTING for a list and problems.</p>
<p>This fine freeware file(1) follows the USG (System V) model of the file command, rather than the Research (V7) version or the V7-derived 4.[23] Berkeley one. That is, the file /etc/magic contains much of the ritual information that is the source of this program’s power. My version knows a little more magic (including tar archives) than System V; the /etc/magic parsing seems to be compatible with the (poorly documented) System V /etc/magic format (with one exception; see the man page).</p>
<p>In addition, the /etc/magic file is built from a subdirectory for easier(?) maintenance. I will act as a clearinghouse for magic numbers assigned to all sorts of data files that are in reasonable circulation. Send your magic numbers, in magic(5) format please, to the maintainer, Christos Zoulas.</p>
<p>COPYING - read this first. README - read this second (you are currently reading this file). INSTALL - read on how to install src/apprentice.c - parses /etc/magic to learn magic src/apptype.c - used for OS/2 specific application type magic src/ascmagic.c - third &amp; last set of tests, based on hardwired assumptions. src/asctime_r.c - replacement for OS’s that don’t have it. src/asprintf.c - replacement for OS’s that don’t have it. src/buffer.c - buffer handling functions. src/cdf.[ch] - parser for Microsoft Compound Document Files src/cdf_time.c - time converter for CDF. src/compress.c - handles decompressing files to look inside. src/ctime_r.c - replacement for OS’s that don’t have it. src/der.[ch] - parser for Distinguished Encoding Rules src/dprintf.c - replacement for OS’s that don’t have it. src/elfclass.h - common code for elf 32/64. src/encoding.c - handles unicode encodings src/file.c - the main program src/file.h - header file src/file_opts.h - list of options src/fmtcheck.c - replacement for OS’s that don’t have it. src/fsmagic.c - first set of tests the program runs, based on filesystem info src/funcs.c - utilility functions src/getline.c - replacement for OS’s that don’t have it. src/getopt_long.c - replacement for OS’s that don’t have it. src/gmtime_r.c - replacement for OS’s that don’t have it. src/is_csv.c - knows about Comma Separated Value file format (RFC 4180). src/is_json.c - knows about JavaScript Object Notation format (RFC 8259). src/is_tar.c, tar.h - knows about Tape ARchive format (courtesy John Gilmore). src/localtime_r.c - replacement for OS’s that don’t have it. src/magic.h.in - source file for magic.h src/mygetopt.h - replacement for OS’s that don’t have it. src/magic.c - the libmagic api src/names.h - header file for ascmagic.c src/pread.c - replacement for OS’s that don’t have it. src/print.c - print results, errors, warnings. src/readcdf.c - CDF wrapper. src/readelf.[ch] - Stand-alone elf parsing code. src/softmagic.c - 2nd set of tests, based on /etc/magic src/mygetopt.h - replacement for OS’s that don’t have it. src/strcasestr.c - replacement for OS’s that don’t have it. src/strlcat.c - replacement for OS’s that don’t have it. src/strlcpy.c - replacement for OS’s that don’t have it. src/strndup.c - replacement for OS’s that don’t have it. src/tar.h - tar file definitions src/vasprintf.c - for systems that don’t have it. doc/file.man - man page for the command doc/magic.man - man page for the magic file, courtesy Guy Harris. Install as magic.4 on USG and magic.5 on V7 or Berkeley; cf Makefile.</p>
<h2 id="magdir---directory-of-etcmagic-pieces">Magdir - directory of /etc/magic pieces</h2>
<p>If you submit a new magic entry please make sure you read the following guidelines:</p>
<ul>
<li><p>Initial match is preferably at least 32 bits long, and is a <em>unique</em> match</p></li>
<li><p>If this is not feasible, use additional check</p></li>
<li><p>Match of &lt;= 16 bits are not accepted</p></li>
<li><p>Delay printing string as much as possible, don’t print output too early</p></li>
<li><p>Avoid printf arbitrary byte as string, which can be a source of crash and buffer overflow</p></li>
<li><p>Provide complete information with entry:</p>
<ul>
<li>One line short summary</li>
<li>Optional long description</li>
<li>File extension, if applicable</li>
<li>Full name and contact method (for discussion when entry has problem)</li>
<li>Further reference, such as documentation of format</li>
</ul></li>
</ul>
<hr />
<p>gpg for dummies:</p>
<p>$ gpg –verify file-X.YY.tar.gz.asc file-X.YY.tar.gz gpg: assuming signed data in `file-X.YY.tar.gz’ gpg: Signature made WWW MMM DD HH:MM:SS YYYY ZZZ using DSA key ID KKKKKKKK</p>
<p>To download the key:</p>
<p>$ gpg –keyserver hkp://keys.gnupg.net –recv-keys KKKKKKKK</p>
<hr />
<p>Parts of this software were developed at SoftQuad Inc., developers of SGML/HTML/XML publishing software, in Toronto, Canada. SoftQuad was swallowed up by Corel in 2002 and does not exist any longer.</p>
</div></div></div></div><h2 id="magic/file/README.DEVELOPER"><span class="file">README</span><span class="extension">DEVELOPER</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/magic/file/readme.developer">[source]</a></h2><div class="doc-entry"><div class="entry"><div class="static-file"><div class="docstring"><h1 id="how-to-get-started-developing">How to get started developing</h1>
<p>@(#) $File: README.DEVELOPER,v 1.7 2019/09/12 16:03:37 christos Exp $</p>
<h2 id="auto-files">Auto files</h2>
<p>After checking out the source, run the following:</p>
<pre><code>autoreconf -f -i
./configure --disable-silent-rules
make -j4
make -C tests check</code></pre>
<p>If you see errors, make sure you have the latest libtool and autoconf This has been tested with autoconf-2.69 and libtool-2.4.2</p>
<h2 id="installing-dependencies">Installing dependencies</h2>
<p>If your platform doesn’t have the above tools, install the following packages first.</p>
<h3 id="debian">Debian</h3>
<pre><code>apt-get install \
    automake \
    gcc \
    libtool \
    make \
    python \
    zlib1g-dev \</code></pre>
<p>See also <code>.travis.yml</code>.</p>
<h3 id="mac-os-x-macports">Mac OS X (MacPorts)</h3>
<pre><code>port install \
    autoconf \
    automake \
    libtool \</code></pre>
<h3 id="mac-os-x-homebrew">Mac OS X (HomeBrew)</h3>
<pre><code>brew install autoconf automake libtool</code></pre>
<p>Tested with: autoconf 2.69 automake 1.16.1 libtool 2.4.6</p>
</div></div></div></div><h1 id="magic/file/python"><span class="directory">magic/file/python</span></h1><h2 id="magic/file/python/README.md"><span class="file">README</span><span class="extension">md</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/magic/file/python/readme.md">[source]</a></h2><div class="doc-entry"><div class="entry"><div class="static-file"><div class="docstring"><h1 id="file-magic-python-bindings"><code>file-magic</code>: Python Bindings</h1>
<p>This library is a Python ctypes interface to <code>libmagic</code>.</p>
<h2 id="installing">Installing</h2>
<p>You can install <code>file-magic</code> either with:</p>
<pre><code>python setup.py install
# or
easy_install .
# or
pip install file-magic</code></pre>
<h2 id="using">Using</h2>
<pre><code>import magic

detected = magic.detect_from_filename(&#39;magic.py&#39;)
print &#39;Detected MIME type: {}&#39;.format(detected.mime_type)
print &#39;Detected encoding: {}&#39;.format(detected.encoding)
print &#39;Detected file type name: {}&#39;.format(detected.name)</code></pre>
<h2 id="developingcontributing">Developing/Contributing</h2>
<p>To run the tests:</p>
<pre><code>python setup.py test</code></pre>
</div></div></div></div><h1 id="magic/file/tests"><span class="directory">magic/file/tests</span></h1><h2 id="magic/file/tests/README"><span class="file">README</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/magic/file/tests/readme">[source]</a></h2><div class="doc-entry"><div class="entry"><div class="static-file"><div class="docstring"><h1 id="file-tests">file tests</h1>
<p>This directory contains tests for file. It is highly encouraged to add one each time a bug is found, and each time new magic is added. Each test consists of two files:</p>
<p>TEST.testfile TEST.result</p>
<p>where TEST is the base name of the test, TEST.testfile is the input, and TEST.result is the desired output from file.</p>
<p>To add a new test just add the test files to the directory.</p>
</div></div></div></div><h1 id="src"><span class="directory">src</span></h1><h2 id="src/0package.lisp"><span class="file">0package</span><span class="extension">lisp</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/src/0package.lisp">[source]</a></h2><div class="doc-entry"><div class="entry"><h3 id="define-package-dataloader.mime"><div class="pkg-KEYWORD EXTERNAL"><div class="span"><span class="doctype">define-package</span></div><div class="span"><span class="name" id="KEYWORD:DATALOADER.MIME">dataloader.mime</span></div></div></h3><div class="docstring"><p>A package containing symbols that are supported by dataloader. Each symbol has a name read from a mime type string, e.g., "image/png" -&gt; <code>IMAGE/PNG</code> . The symbols are used as an <code>eql</code> specializer for a generic function <code>dataloader:perform-load</code> and <code>dataloader:perform-save</code>.</p>
</div></div></div><div class="doc-entry"><div class="entry"><h3 id="define-package-dataloader"><div class="pkg-KEYWORD EXTERNAL"><div class="span"><span class="doctype">define-package</span></div><div class="span"><span class="name" id="KEYWORD:DATALOADER">dataloader</span></div></div></h3><div class="docstring"><p>The main package for dataloader.</p>
</div></div></div><h2 id="src/1generic.lisp"><span class="file">1generic</span><span class="extension">lisp</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/src/1generic.lisp">[source]</a></h2><div class="doc-entry"><div class="entry"><h3 id="defgeneric-perform-load-file-mime-&rest-args-&key-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defgeneric</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file mime &amp;rest args &amp;key &amp;allow-other-keys</span></div></h3><div class="docstring"><p>A generic function that is defined for each mime type symbol in <code>DATALOADER.MIME</code> package.</p>
</div></div></div><div class="doc-entry"><div class="entry"><h3 id="defmethod-perform-load-(file-string)-mime-&rest-args-&key-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">(file string) mime &amp;rest args &amp;key &amp;allow-other-keys</span></div></h3><div class="docstring"><p>Convert a namestring into a pathanme</p>
</div></div></div><div class="doc-entry"><div class="entry"><h3 id="defmethod-perform-load-file-(mime-string)-&rest-args-&key-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime string) &amp;rest args &amp;key &amp;allow-other-keys</span></div></h3><div class="docstring"><p>Convert a mime string into a symbol</p>
</div></div></div><div class="doc-entry"><div class="entry"><h3 id="defmacro-define-load-method-(filevar-mime-string-or-strings-&rest-lambda-list)-&body-body"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmacro</span></div><div class="span"><span class="name" id="DATALOADER:DEFINE-LOAD-METHOD">define-load-method</span></div><span class="args lisp">(filevar mime-string-or-strings &amp;rest lambda-list) &amp;body body</span></div></h3><div class="docstring"><p>A wrapper over <code>defmethod</code>. Made primarily because defmethod does not support <code>(or (eql ...))</code> or <code>member</code> as a specializer. <code>mime-string-or-strings</code> is a string or a list of strings, where each string specifies a mime type e.g. "image/png". <code>lambda-list</code> contains a keyword argument portion of the congruent lambda list of <code>defgeneric</code>. In order to have a compatible lambda-list with the generic function, it adds <code>&amp;rest</code> argument if not present, and <code>&amp;allow-other-keys</code> when <code>&amp;key</code> is present and <code>&amp;allow-other-keys</code> is missing.</p>
</div></div></div><div class="doc-entry"><div class="entry"><h3 id="defgeneric-perform-save-array-file-mime-&rest-args-&key-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defgeneric</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">array file mime &amp;rest args &amp;key &amp;allow-other-keys</span></div></h3><div class="docstring"><p>A generic function that is defined for each mime type symbol in <code>DATALOADER.MIME</code> package.</p>
</div></div></div><div class="doc-entry"><div class="entry"><h3 id="defmethod-perform-save-array-(file-string)-mime-&rest-args-&key-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">array (file string) mime &amp;rest args &amp;key &amp;allow-other-keys</span></div></h3><div class="docstring"><p>Convert a namestring into a pathanme</p>
</div></div></div><div class="doc-entry"><div class="entry"><h3 id="defmethod-perform-save-array-file-(mime-string)-&rest-args-&key-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">array file (mime string) &amp;rest args &amp;key &amp;allow-other-keys</span></div></h3><div class="docstring"><p>Convert a mime string into a symbol</p>
</div></div></div><div class="doc-entry"><div class="entry"><h3 id="defmacro-define-save-method-(arrayvar-filevar-mime-string-or-strings-&rest-lambda-list)-&body-body"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmacro</span></div><div class="span"><span class="name" id="DATALOADER:DEFINE-SAVE-METHOD">define-save-method</span></div><span class="args lisp">(arrayvar filevar mime-string-or-strings &amp;rest lambda-list) &amp;body body</span></div></h3><div class="docstring"><p>A wrapper over <code>defmethod</code>. Made primarily because defmethod does not support <code>(or (eql ...))</code> or <code>member</code> as a specializer. <code>mime-string-or-strings</code> is a string or a list of strings, where each string specifies a mime type e.g. "image/png". <code>lambda-list</code> contains a keyword argument portion of the congruent lambda list of <code>defgeneric</code>. In order to have a compatible lambda-list with the generic function, it adds <code>&amp;rest</code> argument if not present, and <code>&amp;allow-other-keys</code> when <code>&amp;key</code> is present and <code>&amp;allow-other-keys</code> is missing.</p>
</div></div></div><h2 id="src/2load.lisp"><span class="file">2load</span><span class="extension">lisp</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/src/2load.lisp">[source]</a></h2><div class="doc-entry"><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'png))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'png)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'image-png))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'image/png)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'jpg))-&rest-args-&key-buffer-(colorspace-conversion-t)-cached-source-p-(decode-frame-t)-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'jpg)) &amp;rest args &amp;key buffer (colorspace-conversion t) cached-source-p (decode-frame t) &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'jpeg))-&rest-args-&key-buffer-(colorspace-conversion-t)-cached-source-p-(decode-frame-t)-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'jpeg)) &amp;rest args &amp;key buffer (colorspace-conversion t) cached-source-p (decode-frame t) &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'image-jpeg))-&rest-args-&key-buffer-(colorspace-conversion-t)-cached-source-p-(decode-frame-t)-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'image/jpeg)) &amp;rest args &amp;key buffer (colorspace-conversion t) cached-source-p (decode-frame t) &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'tiff))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'tiff)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'image-tiff))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'image/tiff)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'csv))-&rest-args-&key-type-csv-reader-row-fn-map-fn-data-map-fn-sample-skip-first-p-(separator-*separator*)-'*quote*-(escape-*quote-escape*)-unquoted-empty-string-is-nil-quoted-empty-string-is-nil-trim-outer-whitespace-newline-escape-mode-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'csv)) &amp;rest args &amp;key type csv-reader row-fn map-fn data-map-fn sample skip-first-p (separator *separator*) '*quote* (escape *quote-escape*) unquoted-empty-string-is-nil quoted-empty-string-is-nil trim-outer-whitespace newline escape-mode &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'tsv))-&rest-args-&key-type-csv-reader-row-fn-map-fn-data-map-fn-sample-skip-first-p-(separator-*separator*)-'*quote*-(escape-*quote-escape*)-unquoted-empty-string-is-nil-quoted-empty-string-is-nil-trim-outer-whitespace-newline-escape-mode-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'tsv)) &amp;rest args &amp;key type csv-reader row-fn map-fn data-map-fn sample skip-first-p (separator *separator*) '*quote* (escape *quote-escape*) unquoted-empty-string-is-nil quoted-empty-string-is-nil trim-outer-whitespace newline escape-mode &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'application-csv))-&rest-args-&key-type-csv-reader-row-fn-map-fn-data-map-fn-sample-skip-first-p-(separator-*separator*)-'*quote*-(escape-*quote-escape*)-unquoted-empty-string-is-nil-quoted-empty-string-is-nil-trim-outer-whitespace-newline-escape-mode-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'application/csv)) &amp;rest args &amp;key type csv-reader row-fn map-fn data-map-fn sample skip-first-p (separator *separator*) '*quote* (escape *quote-escape*) unquoted-empty-string-is-nil quoted-empty-string-is-nil trim-outer-whitespace newline escape-mode &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'application-x-csv))-&rest-args-&key-type-csv-reader-row-fn-map-fn-data-map-fn-sample-skip-first-p-(separator-*separator*)-'*quote*-(escape-*quote-escape*)-unquoted-empty-string-is-nil-quoted-empty-string-is-nil-trim-outer-whitespace-newline-escape-mode-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'application/x-csv)) &amp;rest args &amp;key type csv-reader row-fn map-fn data-map-fn sample skip-first-p (separator *separator*) '*quote* (escape *quote-escape*) unquoted-empty-string-is-nil quoted-empty-string-is-nil trim-outer-whitespace newline escape-mode &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'application-vnd.ms-excel))-&rest-args-&key-type-csv-reader-row-fn-map-fn-data-map-fn-sample-skip-first-p-(separator-*separator*)-'*quote*-(escape-*quote-escape*)-unquoted-empty-string-is-nil-quoted-empty-string-is-nil-trim-outer-whitespace-newline-escape-mode-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'application/vnd.ms-excel)) &amp;rest args &amp;key type csv-reader row-fn map-fn data-map-fn sample skip-first-p (separator *separator*) '*quote* (escape *quote-escape*) unquoted-empty-string-is-nil quoted-empty-string-is-nil trim-outer-whitespace newline escape-mode &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'text-csv))-&rest-args-&key-type-csv-reader-row-fn-map-fn-data-map-fn-sample-skip-first-p-(separator-*separator*)-'*quote*-(escape-*quote-escape*)-unquoted-empty-string-is-nil-quoted-empty-string-is-nil-trim-outer-whitespace-newline-escape-mode-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'text/csv)) &amp;rest args &amp;key type csv-reader row-fn map-fn data-map-fn sample skip-first-p (separator *separator*) '*quote* (escape *quote-escape*) unquoted-empty-string-is-nil quoted-empty-string-is-nil trim-outer-whitespace newline escape-mode &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'text-comma-separated-values))-&rest-args-&key-type-csv-reader-row-fn-map-fn-data-map-fn-sample-skip-first-p-(separator-*separator*)-'*quote*-(escape-*quote-escape*)-unquoted-empty-string-is-nil-quoted-empty-string-is-nil-trim-outer-whitespace-newline-escape-mode-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'text/comma-separated-values)) &amp;rest args &amp;key type csv-reader row-fn map-fn data-map-fn sample skip-first-p (separator *separator*) '*quote* (escape *quote-escape*) unquoted-empty-string-is-nil quoted-empty-string-is-nil trim-outer-whitespace newline escape-mode &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'text-x-csv))-&rest-args-&key-type-csv-reader-row-fn-map-fn-data-map-fn-sample-skip-first-p-(separator-*separator*)-'*quote*-(escape-*quote-escape*)-unquoted-empty-string-is-nil-quoted-empty-string-is-nil-trim-outer-whitespace-newline-escape-mode-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'text/x-csv)) &amp;rest args &amp;key type csv-reader row-fn map-fn data-map-fn sample skip-first-p (separator *separator*) '*quote* (escape *quote-escape*) unquoted-empty-string-is-nil quoted-empty-string-is-nil trim-outer-whitespace newline escape-mode &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'text-x-comma-separated-values))-&rest-args-&key-type-csv-reader-row-fn-map-fn-data-map-fn-sample-skip-first-p-(separator-*separator*)-'*quote*-(escape-*quote-escape*)-unquoted-empty-string-is-nil-quoted-empty-string-is-nil-trim-outer-whitespace-newline-escape-mode-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'text/x-comma-separated-values)) &amp;rest args &amp;key type csv-reader row-fn map-fn data-map-fn sample skip-first-p (separator *separator*) '*quote* (escape *quote-escape*) unquoted-empty-string-is-nil quoted-empty-string-is-nil trim-outer-whitespace newline escape-mode &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'text-tab-separated-values))-&rest-args-&key-type-csv-reader-row-fn-map-fn-data-map-fn-sample-skip-first-p-(separator-*separator*)-'*quote*-(escape-*quote-escape*)-unquoted-empty-string-is-nil-quoted-empty-string-is-nil-trim-outer-whitespace-newline-escape-mode-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'text/tab-separated-values)) &amp;rest args &amp;key type csv-reader row-fn map-fn data-map-fn sample skip-first-p (separator *separator*) '*quote* (escape *quote-escape*) unquoted-empty-string-is-nil quoted-empty-string-is-nil trim-outer-whitespace newline escape-mode &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'text-plain))-&rest-args-&key-type-csv-reader-row-fn-map-fn-data-map-fn-sample-skip-first-p-(separator-*separator*)-'*quote*-(escape-*quote-escape*)-unquoted-empty-string-is-nil-quoted-empty-string-is-nil-trim-outer-whitespace-newline-escape-mode-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'text/plain)) &amp;rest args &amp;key type csv-reader row-fn map-fn data-map-fn sample skip-first-p (separator *separator*) '*quote* (escape *quote-escape*) unquoted-empty-string-is-nil quoted-empty-string-is-nil trim-outer-whitespace newline escape-mode &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'wav))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'wav)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'audio-wav))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'audio/wav)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'audio-x-wav))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'audio/x-wav)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'audio-wave))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'audio/wave)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'audio-x-wave))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'audio/x-wave)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'audio-vnd.wave))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'audio/vnd.wave)) &amp;rest args0</span></div></h3><div class="docstring missing">(all documentation missing)</div></div></div><div class="doc-entry"><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'npy))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'npy)) &amp;rest args0</span></div></h3><div class="docstring"><p>libmagic can detect numpy file, but does not return a meaningful mime type</p>
</div></div></div><div class="doc-entry"><div class="entry"><h3 id="defmethod-perform-load-file-(mime-(eql-'application-octet-stream))-&rest-args"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-LOAD">perform-load</span></div><span class="args lisp">file (mime (eql 'application/octet-stream)) &amp;rest args</span></div></h3><div class="docstring"><p>fallback method for application/octet-stream mime type. Since not much can be inferred from this mime type, it calls itself with pathname extension as the second argument.</p>
</div></div></div><h2 id="src/2save.lisp"><span class="file">2save</span><span class="extension">lisp</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/src/2save.lisp">[source]</a></h2><div class="doc-entry"><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'png))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'png)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'image-png))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'image/png)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'jpg))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'jpg)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'jpeg))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'jpeg)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'image-jpeg))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'image/jpeg)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'tiff))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'tiff)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'image-tiff))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'image/tiff)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'csv))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'csv)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'application-csv))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'application/csv)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'application-x-csv))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'application/x-csv)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'text-csv))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'text/csv)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'text-comma-separated-values))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'text/comma-separated-values)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'text-x-csv))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'text/x-csv)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'text-x-comma-separated-values))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'text/x-comma-separated-values)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'tsv))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'tsv)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'text-tab-separated-values))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'text/tab-separated-values)) &amp;rest args0</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'wav))-&rest-args0-&key-(bits-per-second-44100)-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'wav)) &amp;rest args0 &amp;key (bits-per-second 44100) &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'audio-wav))-&rest-args0-&key-(bits-per-second-44100)-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'audio/wav)) &amp;rest args0 &amp;key (bits-per-second 44100) &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'audio-x-wav))-&rest-args0-&key-(bits-per-second-44100)-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'audio/x-wav)) &amp;rest args0 &amp;key (bits-per-second 44100) &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'audio-wave))-&rest-args0-&key-(bits-per-second-44100)-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'audio/wave)) &amp;rest args0 &amp;key (bits-per-second 44100) &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'audio-x-wave))-&rest-args0-&key-(bits-per-second-44100)-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'audio/x-wave)) &amp;rest args0 &amp;key (bits-per-second 44100) &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'audio-vnd.wave))-&rest-args0-&key-(bits-per-second-44100)-&allow-other-keys"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'audio/vnd.wave)) &amp;rest args0 &amp;key (bits-per-second 44100) &amp;allow-other-keys</span></div></h3></div><div class="entry"><h3 id="defmethod-perform-save-data-file-(mime-(eql-'npy))-&rest-args0"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defmethod</span></div><div class="span"><span class="name" id="DATALOADER:PERFORM-SAVE">perform-save</span></div><span class="args lisp">data file (mime (eql 'npy)) &amp;rest args0</span></div></h3><div class="docstring missing">(all documentation missing)</div></div></div><h2 id="src/3api.lisp"><span class="file">3api</span><span class="extension">lisp</span><a class="source-link" href="file:///home/masataro/.roswell/local-projects/guicho271828/dataloader/src/3api.lisp">[source]</a></h2><div class="doc-entry"><div class="entry"><h3 id="defun-load-file-&rest-args-&key-(mime-(pathname-mime-type-file))-(decode-frame-t)-cached-source-p-(colorspace-conversion-t)-buffer-escape-mode-newline-trim-outer-whitespace-quoted-empty-string-is-nil-unquoted-empty-string-is-nil-(escape-*quote-escape*)-'*quote*-(separator-*separator*)-skip-first-p-sample-data-map-fn-map-fn-row-fn-csv-reader-type"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defun</span></div><div class="span"><span class="name" id="DATALOADER:LOAD">load</span></div><span class="args lisp">file &amp;rest args &amp;key (mime (pathname-mime-type file)) (decode-frame t) cached-source-p (colorspace-conversion t) buffer escape-mode newline trim-outer-whitespace quoted-empty-string-is-nil unquoted-empty-string-is-nil (escape *quote-escape*) '*quote* (separator *separator*) skip-first-p sample data-map-fn map-fn row-fn csv-reader type</span></div></h3><div class="docstring"><p>Loads a file and returns a numcl-compatible array. The file format is detected by libmagic, but it can optionally be specified.</p>
</div></div></div><div class="doc-entry"><div class="entry"><h3 id="defun-save-array-file-&rest-args-&key-(mime-(pathname-type-file))-(bits-per-second-44100)"><div class="pkg-DATALOADER EXTERNAL"><div class="span"><span class="doctype">defun</span></div><div class="span"><span class="name" id="DATALOADER:SAVE">save</span></div><span class="args lisp">array file &amp;rest args &amp;key (mime (pathname-type file)) (bits-per-second 44100)</span></div></h3><div class="docstring"><p>This function saves the array into a file, using the format specified by the file name extension or by the mime type.</p>
</div></div></div></div><div class="footer"></div></body></html>